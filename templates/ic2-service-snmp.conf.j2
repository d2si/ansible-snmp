# {{ ansible_managed }}

apply Service "uptime" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.2.1.1.3.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-load-1m" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.10.1.3.1"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-load-5m" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.10.1.3.2"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-load-15m" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.10.1.3.3"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-time-%user" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.11.9.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-time-%system" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.11.10.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "cpu-time-%idle" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.11.11.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "swap-total" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.4.3.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "swap-free" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.4.4.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "mem-total" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.4.5.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}

apply Service "mem-free" {
  import "generic-service"
  check_command = "snmp"
  vars.snmp_oid = "1.3.6.1.4.1.2021.4.6.0"
  vars.snmp_miblist = "DISMAN-EVENT-MIB"
  assign where host.vars.snmp_community != ""
}
